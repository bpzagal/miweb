<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Carta Interactiva ‚Äì 10 A√±os</title>
  <style>
    :root{--bg:#fff0f6;--card:#fff;--accent:#ff6b9a}
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,sans-serif;background:linear-gradient(180deg,#fff4f9 0%,#ffe8f0 100%);margin:0;padding:24px;display:flex;justify-content:center;min-height:100vh}
    .card{width:100%;max-width:820px;background:var(--card);border-radius:20px;box-shadow:0 8px 30px rgba(255,107,154,.15);padding:32px;position:relative}
    header{display:flex;gap:16px;align-items:center;margin-bottom:24px}
    .logo{width:84px;height:84px;border-radius:50%;background:linear-gradient(135deg,var(--accent),#ffb3c7);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:30px;box-shadow:0 4px 12px rgba(255,107,154,.3)}
    h1{margin:0;font-size:28px;color:#333}
    p.lead{color:#666;margin-top:6px;font-size:16px}
    .gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;margin-top:18px}
    .gallery img{width:100%;height:200px;object-fit:contain;object-position:center;border-radius:12px;transition:transform .3s ease,box-shadow .3s ease;background-color:#f9f9f9}
    .gallery img:hover{transform:scale(1.02);box-shadow:0 8px 20px rgba(0,0,0,.15)}
    button{background:var(--accent);color:white;border:none;padding:12px 18px;border-radius:12px;font-weight:600;cursor:pointer;font-size:14px;transition:all .3s ease}
    button:hover{background:#ff3f7f;transform:translateY(-2px);box-shadow:0 4px 12px rgba(255,107,154,.4)}
    button.secondary{background:transparent;border:2px solid var(--accent);color:var(--accent)}
    button.secondary:hover{background:rgba(255,107,154,.1);transform:translateY(-2px)}
    .controls{display:flex;gap:10px;margin-top:20px;flex-wrap:wrap}
    .secret{background:linear-gradient(135deg,#fff0f4,#ffe8f0);padding:18px;border-radius:12px;margin-top:20px;border:2px solid rgba(255,107,154,.2)}
    .secret h3{margin:0 0 10px 0;color:var(--accent);font-size:18px}
    #hiddenMsg{margin-top:10px;color:#555;line-height:1.6;white-space:pre-wrap;word-wrap:break-word}
    .hidden{filter:blur(8px);transition:filter .35s ease;user-select:none}
    #timelineContainer{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:820px;max-height:80vh;background:linear-gradient(135deg,#fff8fa,#fff);border-radius:12px;box-shadow:0 8px 40px rgba(0,0,0,.3);padding:20px;z-index:102;display:none;overflow-y:auto}
    #timelineContainer h2{margin:0 0 20px 0;color:var(--accent);font-size:22px;text-align:center}
    #timelineTrack{display:flex;gap:30px;align-items:center;padding:14px 0;overflow-x:auto;white-space:nowrap;margin-bottom:20px}
    .yearDot{text-align:center;cursor:pointer;flex-shrink:0}
    .yearDot div.dot{width:28px;height:28px;border-radius:50%;background:var(--accent);margin:0 auto;transition:.25s;box-shadow:0 2px 6px rgba(255,107,154,.3)}
    .yearDot:hover .dot{transform:scale(1.3);background:#ff3f7f;box-shadow:0 4px 12px rgba(255,107,154,.5)}
    .yearDot span{display:block;margin-top:8px;font-weight:600;color:#444;font-size:14px}
    #yearPhotos{display:none;padding:20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.05)}
    #yearPhotos h3{margin:0 0 16px 0;color:var(--accent);font-size:20px}
    #yearPhotos .description{color:#666;margin-bottom:16px;line-height:1.6;white-space:normal}
    #yearPhotos .row{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    #yearPhotos img{width:100%;object-fit:contain;object-position:center;height:200px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .3s ease;background-color:#f9f9f9}
    #yearPhotos img:hover{transform:scale(1.05)}
    .footer{margin-top:28px;font-size:13px;color:#999;text-align:center;padding-top:20px;border-top:1px solid #f0f0f0}
    .heart{position:fixed;font-size:50px;opacity:0;pointer-events:none;z-index:9999;bottom:-80px;animation:floatHeart 4s ease-out forwards}
    @keyframes floatHeart{
      0%{opacity:0;transform:translateY(0) scale(0.3) rotate(0deg)}
      10%{opacity:1}
      90%{opacity:1}
      100%{opacity:0;transform:translateY(-100vh) scale(1.2) rotate(360deg)}
    }
    .overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:100;display:none;transition:opacity 0.5s ease}
    .overlay.active{display:block;opacity:1}
    .yearDot.active .dot{background:#ff3f7f;transform:scale(1.5);box-shadow:0 0 20px rgba(255,63,127,0.8),0 0 40px rgba(255,63,127,0.4)}
    .yearDot.active span{color:#ff3f7f;font-size:16px}
    @media (max-width:600px){
      .card{padding:20px}
      h1{font-size:24px}
      .logo{width:70px;height:70px;font-size:24px}
      header{gap:12px}
      .gallery{grid-template-columns:1fr;gap:10px}
      .gallery img{height:250px}
      .controls{gap:8px}
      button{padding:10px 14px;font-size:13px}
      .secret{padding:14px}
      #timelineContainer{width:95%;max-height:90vh;padding:15px}
      #timelineContainer h2{font-size:18px}
      #timelineTrack{gap:20px}
      .yearDot div.dot{width:24px;height:24px}
      .yearDot span{font-size:12px}
      #yearPhotos{padding:15px}
      #yearPhotos h3{font-size:18px}
      #yearPhotos .row{grid-template-columns:1fr;gap:10px}
      #yearPhotos img{height:220px}
      .heart{font-size:35px}
      .footer{font-size:12px}
    }
  </style>
</head>
<body>
<div class="card">
  <header>
    <div class="logo">10A</div>
    <div>
      <h1>Nuestra historia</h1>
      <p class="lead">Una carta interactiva para recorrer 10 a√±os juntos.</p>
    </div>
  </header>

  <section class="gallery">
    <img id="img1" alt="Foto 1" />
    <img id="img2" alt="Foto 2" />
    <img id="img3" alt="Foto 3" />
  </section>

  <div class="controls">
    <button id="btnReveal">üíå Revelar mensaje</button>
    <button id="btnTimeline" class="secondary">üó∫Ô∏è Ver nuestro mapa</button>
  </div>

  <div id="timelineContainer">
    <h2>üìÖ Nuestro viaje a trav√©s de los a√±os</h2>
    <div id="timelineTrack"></div>
    <div id="yearPhotos"></div>
  </div>

  <div class="secret">
    <h3>Mensaje especial</h3>
    <div id="publicMsg">Mi amor, gracias por diez a√±os de magia, aventuras y risas compartidas. Cada momento contigo ha sido un regalo.</div>
    <div id="hiddenMsg" class="hidden">Ya son 10 a√±os‚Ä¶ ¬øqui√©n lo hubiera pensado? Cuando solo √©ramos compa√±eros, nadie habr√≠a imaginado que terminar√≠amos juntos, construyendo una vida y celebrando una d√©cada de amor. Es incre√≠ble c√≥mo pasa el tiempo: diez a√±os compartiendo m√°s de un tercio de nuestras vidas. Y s√≠, es much√≠simo.

Gracias por estos hermosos 10 a√±os llenos de risas, l√°grimas, aprendizajes y momentos que nos han marcado. El camino no siempre ha sido f√°cil, porque nada en esta vida es perfecto, pero al final del d√≠a siempre somos t√∫ y yo, el uno para el otro.

A√∫n nos queda mucho por recorrer, y s√© que vendr√°n desaf√≠os, pero tambi√©n s√© que con amor podemos superarlo todo. Hemos construido cosas hermosas y valiosas, y eso es lo que debe guiarnos: recordar lo importante y lo que realmente nos une.

Perd√≥n si a veces no te comprendo. Te pido que tambi√©n me entiendas: yo intento mejorar cada d√≠a sin olvidar nunca que te amo, y que jam√°s ha sido ni ser√° mi intenci√≥n lastimarte. Quiero esta vida contigo, quiero nuestro "siempre", quiero acompa√±arte hasta nuestro √∫ltimo aliento.

Te amo. Le pido a Dios que siempre te cuide y nos bendiga en cada paso que demos. Gracias por estos 10 a√±os‚Ä¶ y que vengan muchos m√°s: 20, 30, o todos los que Diosito nos permita compartir.

Con todo mi amor,
tu esposo,
Basti√°n</div>
  </div>

  <div class="footer">
    üíù Hecho con amor para celebrar 10 a√±os juntos
  </div>

  <audio id="audio" loop></audio>
  <div class="overlay" id="overlay"></div>
</div>

<script>
  const IMAGE0  = "https://lh3.googleusercontent.com/d/1GVIdmZ4M2c-EAgrgFm1AjP5jg1sFrMdM";
  const IMAGE1  = "https://lh3.googleusercontent.com/d/1FtDGGes6KiUvDKOpzhN6yEtFAs-GT1_x";
  const IMAGE2  = "https://lh3.googleusercontent.com/d/1_LiM3wn--MancWaz-UkFj_Y_FVYazkqP";
  const IMAGE3  = "https://lh3.googleusercontent.com/d/1WuoQWZ-M1cDEpS2VR0gEdDTRXEmHjH_S";
  const IMAGE4  = "https://lh3.googleusercontent.com/d/1nblWgp9_BdYDDTRSRpQwdIUIEy9-WExV";
  const IMAGE5  = "https://lh3.googleusercontent.com/d/1QGYvLjff3dE2av1sbdnRe7EIv4PC5q5B";
  const IMAGE6  = "https://lh3.googleusercontent.com/d/1MummsKuM_FJOIZP1N0g1jX2S1v-ERVWM";
  const IMAGE7  = "https://lh3.googleusercontent.com/d/17VPRtwgbcReKED9FBFS0f-JO3ArP5g2f";
  const IMAGE8  = "https://lh3.googleusercontent.com/d/1wZ-uvmnRM5wcj_WqRd1ecAYWWBgHcRW2";
  const IMAGE9  = "https://lh3.googleusercontent.com/d/1z8rqeZ4a8YcYgxy3DM0mCqeyhpmxfcvk";
  const IMAGE10 = "https://lh3.googleusercontent.com/d/117o_QQ0QWpM8wEVsj8M2MaMWZthbEr6S";
  const IMAGE11 = "https://lh3.googleusercontent.com/d/1yHeIBIzLwIyWtyk_xPRrAHRoAwXVaECU";
  const IMAGE12 = "https://lh3.googleusercontent.com/d/1Q2NQJGAC02XXW9CSgTD9yfLGPJMinOlk";
  const IMAGE13 = "https://lh3.googleusercontent.com/d/1jqFnz8PYGgxc0cR-zbG4z3tq2kt0F96G";
  const IMAGE14 = "https://lh3.googleusercontent.com/d/17sq7zWZGrekQ0Zg5Qbm3DYX6hN401plj";
  const IMAGE15 = "https://lh3.googleusercontent.com/d/1niuVgrYnnDMj8DZMy_zfpbiW6Mlew6ql";
  const IMAGE16 = "https://lh3.googleusercontent.com/d/1L4x2MVb4jnIRJ8tcItGb_0NX98LyiAoA";
  const IMAGE17 = "https://lh3.googleusercontent.com/d/1BimhFDrxggN9AQVEfXP0Xdso3xnM85Gf";
  const IMAGE18 = "https://lh3.googleusercontent.com/d/13OIINw6J1S9W6oWHcQqM39TInzyIyEVF";
  const IMAGE19 = "https://lh3.googleusercontent.com/d/1OjRnfL3la3r3aGtbfXHDP3GYT1YM54ae";
  const IMAGE20 = "https://lh3.googleusercontent.com/d/1hLqJPrLQDVN2GUJmpUC6V36rwiWy9z5q";
  const IMAGE21 = "https://lh3.googleusercontent.com/d/1oF26J0YIg4xf6mlAtCG6z_Gg2bsmEd7f";
  const IMAGE22 = "https://lh3.googleusercontent.com/d/1DueS4HYacjvmWdhDwoNAgNyH8kF5RSOC";
  const IMAGE23 = "https://lh3.googleusercontent.com/d/15qgsBEEoHXK0exaEKyOHsLGhcHsR4dwZ";
  const IMAGE24 = "https://lh3.googleusercontent.com/d/1A74cNY5srn_He-zOlTFa4EH2Q-fp3tLr";
  const IMAGE25 = "https://lh3.googleusercontent.com/d/1kQe4YMNTDT_qMAeIDo5uUgpbmIj_1vxy";
  const IMAGE26 = "https://lh3.googleusercontent.com/d/1bUoBKQuCigfDHszNcXMPNu6WVlYvYSfb";
  const IMAGE27 = "https://lh3.googleusercontent.com/d/1xCXke1yzdZ4Bc1tIJkQHGIPrbu8WMKFR";
  const IMAGE28 = "https://lh3.googleusercontent.com/d/1bpfz3VR2ETfly358gE6Owx76HlcuIl_S";
  const IMAGE29 = "https://lh3.googleusercontent.com/d/1mZfwIx3X6Pwlt1gOa_Kcr1n6zztLsOcQ";
  const IMAGE30 = "https://lh3.googleusercontent.com/d/1bhnhZ7J_bhE0BOP3mVFv-nrFVooaNuMP";
  
  const AUDIO = "https://raw.githubusercontent.com/bpzagal/audios/main/Mi%20Coraz√≥n%20Encantado.mp3";
  
  const timelineData = {
    1: {
      title: "A√±o 1 - El comienzo",
      description: "Un a√±o lleno de desaf√≠os y aprendizajes. En lo personal fue muy duro: perd√≠ a muchos seres queridos y, adem√°s, tuvimos que aprender a conocernos.",
      photos: [IMAGE1, IMAGE2, IMAGE3]
    },
    2: {
      title: "A√±o 2 - Creciendo juntos",
      description: "A pesar de las dificultades, apostamos por lo nuestro. Seguimos aprendiendo, conoci√©ndonos, y fue entonces cuando el amor comenz√≥ a afianzarse m√°s.",
      photos: [IMAGE4, IMAGE5, IMAGE6]
    },
    3: {
      title: "A√±o 3 - Nuevas aventuras",
      description: "Nuestro amor ya estaba m√°s consolidado, aunque como toda pareja, tuvimos nuestros altos y bajos. El 'color de rosa' del amor primerizo qued√≥ atr√°s y el desaf√≠o comenz√≥ a ser querernos tal cual √©ramos. Empezamos a notar cosas que nos disgustaban del otro, pero aprendimos a entenderlas y a comprendernos.",
      photos: [IMAGE7, IMAGE8, IMAGE9]
    },
    4: {
      title: "A√±o 4 - Construyendo sue√±os",
      description: "Comenzamos a llenarnos de ilusiones y metas. En ese momento de mi vida yo ya entend√≠a ‚Äîy sent√≠a‚Äî que quer√≠a que fueras la mujer que me acompa√±ara el resto de mi vida.",
      photos: [IMAGE10, IMAGE11, IMAGE12]
    },
    5: {
      title: "A√±o 5 - A mitad de camino",
      description: "Nos sent√≠amos una pareja s√≥lida. Para nosotros, cinco a√±os juntos representaban una meta alcanzada gracias al amor y la comprensi√≥n. A√∫n nos faltaba madurez, pero el denominador com√∫n en todos nuestros a√±os era que el amor siempre gan√≥.",
      photos: [IMAGE13, IMAGE14, IMAGE15]
    },
    6: {
      title: "A√±o 6 - Superando desaf√≠os",
      description: "Ya convers√°bamos sobre nuestro futuro, sobre las metas que quer√≠amos lograr. Ten√≠amos la convicci√≥n de que pronto nuestras vidas dar√≠an el siguiente paso.",
      photos: [IMAGE16, IMAGE17, IMAGE18]
    },
    7: {
      title: "A√±o 7 - Consolidando",
      description: "Siempre tuvimos una mirada cl√°sica para concretar nuestros anhelos: empezamos a hablar de casarnos. Fue entonces cuando nos comprometimos, iniciando de manera formal nuestro camino juntos.",
      photos: [IMAGE19, IMAGE20, IMAGE21]
    },
    8: {
      title: "A√±o 8 - Momentos m√°gicos",
      description: "Decidimos salir, disfrutar y conocer. Tuvimos nuestro primer viaje solos fuera del pa√≠s. Despu√©s de eso, comenzamos a hablar seriamente de nuestros sue√±os y metas, y por eso iniciamos nuestro 'modo ahorro'.",
      photos: [IMAGE22, IMAGE23, IMAGE24]
    },
    9: {
      title: "A√±o 9 - Casi una d√©cada",
      description: "Finalmente concretamos nuestro casamiento. Lo hicimos a nuestra manera, sacrificando algunas cosas, pero result√≥ hermoso. All√≠ sellamos y cumplimos un anhelo que ten√≠amos desde que decidimos estar juntos. Todo sali√≥ bien: finalmente √©ramos marido y mujer.",
      photos: [IMAGE25, IMAGE26, IMAGE27]
    },
    10: {
      title: "A√±o 10 - ¬°Una d√©cada!",
      description: "A solo horas de cumplir 10 a√±os, gracias a Dios pudimos concretar la mayor√≠a de nuestras metas. Obtuvimos nuestro propio lugar, nuestro nido, que con tanto esfuerzo y perseverancia logramos adquirir. Tambi√©n compramos nuestro primer auto como pareja, y seguiremos sumando metas y sue√±os. No ha sido un a√±o f√°cil: la convivencia es algo que seguimos aprendiendo. Pero ambos hemos puesto de nuestra parte, y eso es lo que nos mantiene firmes. Feliz 10 a√±os, amor.",
      photos: [IMAGE28, IMAGE29, IMAGE30]
    }
  };

  document.getElementById("img1").src = IMAGE28;
  document.getElementById("img2").src = IMAGE0;
  document.getElementById("img3").src = IMAGE26;
  if (AUDIO) document.getElementById("audio").src = AUDIO;

  document.getElementById("btnReveal").onclick = () => {
    const h = document.getElementById("hiddenMsg");
    h.classList.remove("hidden");
    h.style.filter = "none";
  };

  let isPlaying = false;
  const audioElement = document.getElementById("audio");
  let timelineVisible = false;
  let presentationInterval = null;
  let currentYear = 0;
  
  document.getElementById("btnTimeline").onclick = () => {
    const container = document.getElementById("timelineContainer");
    const overlay = document.getElementById("overlay");
    
    timelineVisible = !timelineVisible;
    container.style.display = timelineVisible ? "block" : "none";
    document.getElementById("btnTimeline").textContent = 
      timelineVisible ? "‚ùå Cerrar mapa" : "üó∫Ô∏è Ver nuestro mapa";
    
    if (timelineVisible) {
      overlay.classList.add("active");
      createHearts();
      
      if (!isPlaying) {
        audioElement.currentTime = 0;
        audioElement.play().catch(err => console.log("Error al reproducir:", err));
        isPlaying = true;
      }
      
      if (document.getElementById("timelineTrack").children.length === 0) {
        buildTimeline();
      }
      
      setTimeout(() => startPresentation(), 600);
    } else {
      overlay.classList.remove("active");
      if (presentationInterval) clearInterval(presentationInterval);
      if (isPlaying) {
        audioElement.pause();
        isPlaying = false;
      }
      document.querySelectorAll(".yearDot").forEach(dot => dot.classList.remove("active"));
    }
  };

  function startPresentation() {
    currentYear = 1;
    showYearPhotos(currentYear);
    presentationInterval = setInterval(() => {
      currentYear++;
      if (currentYear > 10) currentYear = 1;
      showYearPhotos(currentYear);
    }, 16000);
  }

  function createHearts() {
    const colors = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíì', 'üíù', 'üíò', 'üíû'];
    for (let i = 0; i < 100; i++) {
      setTimeout(() => {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = colors[Math.floor(Math.random() * colors.length)];
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDelay = Math.random() * 0.3 + 's';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 5000);
      }, i * 80);
    }
  }

  function buildTimeline() {
    const track = document.getElementById("timelineTrack");
    for (let year = 1; year <= 10; year++) {
      const dot = document.createElement("div");
      dot.className = "yearDot";
      dot.dataset.year = year;
      dot.innerHTML = `<div class="dot"></div><span>A√±o ${year}</span>`;
      dot.onclick = () => showYearPhotos(year);
      track.appendChild(dot);
    }
  }

  function showYearPhotos(year) {
    const container = document.getElementById("yearPhotos");
    const data = timelineData[year];
    
    if (!data) return;
    
    document.querySelectorAll(".yearDot").forEach(dot => dot.classList.remove("active"));
    
    const currentDot = document.querySelector(`.yearDot[data-year="${year}"]`);
    if (currentDot) {
      currentDot.classList.add("active");
      currentDot.scrollIntoView({ behavior: "smooth", inline: "center", block: "nearest" });
    }
    
    let photosHTML = data.photos.map(src => `<img src="${src}" alt="A√±o ${year}">`).join("");
    
    container.innerHTML = `
      <h3>${data.title}</h3>
      <div class="description">${data.description}</div>
      <div class="row">${photosHTML}</div>
    `;
    
    container.style.display = "block";
  }

  document.getElementById("overlay").onclick = () => {
    const overlay = document.getElementById("overlay");
    const container = document.getElementById("timelineContainer");
    overlay.classList.remove("active");
    container.style.display = "none";
    document.getElementById("btnTimeline").textContent = "üó∫Ô∏è Ver nuestro mapa";
    timelineVisible = false;
    if (presentationInterval) clearInterval(presentationInterval);
    if (isPlaying) {
      audioElement.pause();
      isPlaying = false;
    }
    document.querySelectorAll(".yearDot").forEach(dot => dot.classList.remove("active"));
  };
</script>
</body>
</html>
